[uwsgi]
# Django project location
chdir = /mnt/data/Digital_Hub/core
module = project.wsgi:application
home = /mnt/data/Digital_Hub/.venv

# uWSGI process management
master = true
processes = 1
threads = 4
enable-threads = true
lazy-apps = true
vacuum = true

# Socket for Nginx
socket = /mnt/data/Digital_Hub/core/domains.sock
chmod-socket = 666
uid = www-data
gid = www-data

# Request & performance settings
thunder-lock = true           # Prevent thundering herd on accept()
post-buffering = 8192         # Buffer small POST requests in memory

# Logging
logto = /mnt/data/Digital_Hub/core/uwsgi.log
log-reopen = true

# Optional: if you want GPU visibility
# Environment=CUDA_VISIBLE_DEVICES=0 
env = CUDA_VISIBLE_DEVICES=0
